@model HR_System.Models.t_objetidet

@{
    ViewBag.Title = "Create";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<h6 class="font-weight-bold text-center grey-text text-uppercase small mb-2 mt-3" style="font-size:1.5vw">MODULE 1</h6>
<h3 class="font-weight-bold text-center  pb-2" style="font-size:3.5vw">My Objectives @ViewBag.Objective.axo</h3>
<hr />
<div class="row">

    <hr />
    <div class="col-12">


        <div class="row">
            <div class="col-4">
                <label class="font-weight-bold">Employee #: </label>
                <label>@ViewBag.Objective.empleado</label>
            </div>
            <div class="col-4">
                <label class="font-weight-bold">Name: </label>
                <label>@ViewBag.Objective.t_empleados.nombre</label>
            </div>
        </div>
        <div class="row">
            <div class="col-4">
                <label class="font-weight-bold">Department: </label>
                <label>(Departamento de Tress)</label>
            </div>
            <div class="col-4">
                <label class="font-weight-bold">Manager: </label>
                <label>@ViewBag.Manager</label>
            </div>
            <div class="col-4">
                <label class="font-weight-bold">2nd Level Manager: </label>
                <label>@ViewBag.Manager2</label>
            </div>
        </div>
        <div class="row">
            <div class="col-4">
                <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#AddObjModal">
                    Add Objetive
                </button>
            </div>
            <div class="col-4">

            </div>
            <div class="col-4">

            </div>
        </div>
        <div class="row">
            @foreach (var item in ViewBag.ObjectivesDet)
            {
                <div class="col-4 mt-3">
                    <div class="card">
                        <div class="card-header">
                            <div class="row">
                                <div class="col-8">
                                    @item.consec @item.objetivo
                                </div>
                                <div class="col-4 text-right">
                                    @Html.ActionLink("Edit", "Edit", new { planta = item.planta, folio = item.folio, consec = item.consec })
                                </div>
                            </div>

                        </div>
                        <div class="card-body">
                            <dl class="dl-horizontal">
                                <dt>
                                    Description
                                </dt>

                                <dd>
                                    @item.descrip
                                </dd>

                                <dt>
                                    Metric
                                </dt>

                                <dd>
                                    @item.t_metricos.descrip
                                </dd>

                                <dt>
                                    Weigth
                                </dt>

                                <dd>
                                    @item.peso
                                </dd>
                            </dl>
                        </div>
                    </div>

                </div>

                <div class="modal fade" id="AddObjModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
                     aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        @using (Html.BeginForm("Edit", "t_objetidet", FormMethod.Post))
                        {
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h4>Objective @ViewBag.NextObjective</h4>
                                    <button type="button" class="close mr-0" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="row">
                                    <div class="col-12">
                                        <div class="modal-body">

                                            @Html.AntiForgeryToken()

                                            <div class="form-horizontal">

                                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                                @Html.HiddenFor(model => model.planta, new { @Value = item.planta })
                                             
                                                @Html.HiddenFor(model => model.consec, new { @Value = item.consec })



                                                <div class="form-group">
                                                    <div class="md-form md-outline ">
                                                        @Html.EditorFor(model => model.objetivo, new { htmlAttributes = new { @class = "form-control", @maxlenght = "100" } })
                                                        <label for="objetivo">Title</label>
                                                    </div>

                                                </div>

                                                <div class="form-group">
                                                    <div class="md-form md-outline">
                                                        <textarea id="descrip" name="descrip" class="md-textarea form-control" rows="3"></textarea>
                                                        <label for="descrip">Description</label>
                                                    </div>
                                                </div>

                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        <label for="peso" class="text-muted">Weight: <span id="pesoval" style="color:black"></span><span style="color:black">%</span></label>
                                                        <input type="range" class="custom-range" min="0" max="100" id="peso" name="peso">
                                                    </div>
                                                </div>

                                                <div class="form-group">

                                                    <div class="col-md-12">
                                                        <label for="metrico" class="text-muted">Metric : </label>
                                                        @Html.DropDownList("metrico", null, htmlAttributes: new { @class = "form-control" })
                                                        @Html.ValidationMessageFor(model => model.metrico, "", new { @class = "text-danger" })
                                                    </div>
                                                </div>

                                            </div>

                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                                            <input type="submit" value="Create" class="btn btn-default" />
                                        </div>
                                    </div>
                                </div>

                            </div>
                        }
                    </div>
                </div>

            }

        </div>
        <!-- Editable table -->
    </div>
</div>

<div class="modal fade" id="AddObjModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <div class="modal-dialog" role="document">
        @using (Html.BeginForm())
        {
            <div class="modal-content">
                <div class="modal-header">
                    <h4>Objective @ViewBag.NextObjective</h4>
                    <button type="button" class="close mr-0" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="row">
                    <div class="col-12">
                        <div class="modal-body">

                            @Html.AntiForgeryToken()

                            <div class="form-horizontal">

                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })
                                @Html.HiddenFor(model => model.planta, new { @Value = ViewBag.Objective.planta })
                                @Html.HiddenFor(model => model.empleado, new { @Value = ViewBag.Objective.empleado })
                                @Html.HiddenFor(model => model.axo, new { @Value = ViewBag.Objective.axo })
                                @Html.HiddenFor(model => model.consec, new { @Value = ViewBag.NextObjective })


                                <div class="form-group">
                                    <div class="md-form md-outline ">
                                        @Html.EditorFor(model => model.objetivo, new { htmlAttributes = new { @class = "form-control", @maxlenght = "100" } })
                                        <label for="objetivo">Title</label>
                                    </div>

                                </div>

                                <div class="form-group">
                                    <div class="md-form md-outline">
                                        <textarea id="descrip" name="descrip" class="md-textarea form-control" rows="3"></textarea>
                                        <label for="descrip">Description</label>
                                    </div>
                                </div>

                                <div class="form-group">
                                    <div class="col-md-12">
                                        <label for="peso" class="text-muted">Weight: <span id="pesoval" style="color:black"></span><span style="color:black">%</span></label>
                                        <input type="range" class="custom-range" min="0" max="100" id="peso" name="peso">
                                    </div>
                                </div>

                                <div class="form-group">

                                    <div class="col-md-12">
                                        <label for="metrico" class="text-muted">Metric : </label>
                                        @Html.DropDownList("metrico", null, htmlAttributes: new { @class = "form-control" })
                                        @Html.ValidationMessageFor(model => model.metrico, "", new { @class = "text-danger" })
                                    </div>
                                </div>

                            </div>

                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                            <input type="submit" value="Create" class="btn btn-default" />
                        </div>
                    </div>
                </div>

            </div>
        }
    </div>
</div>



<div>
    @Html.ActionLink("Back to List", "Index")
</div>

@section scripts{
    <script>
        var slider = document.getElementById("peso");
var output = document.getElementById("pesoval");
output.innerHTML = slider.value;
slider.oninput = function () {
    output.innerHTML = this.value;
}
    </script>

}